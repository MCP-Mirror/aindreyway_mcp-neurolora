<html><head><meta charset="utf-8"/><title>Test Report</title><link rel="stylesheet" type="text/css" href="/home/ubuntu/repos/mcp-neurolora/node_modules/jest-html-reporter/style/defaultTheme.css"/></head><body><div class="jesthtml-content"><header><h1 id="title">Test Report</h1></header><div id="metadata-container"><div id="timestamp">Started: 2024-12-22 15:59:31</div><div id="summary"><div id="suite-summary"><div class="summary-total">Suites (7)</div><div class="summary-passed ">1 passed</div><div class="summary-failed ">6 failed</div><div class="summary-pending  summary-empty">0 pending</div></div><div id="test-summary"><div class="summary-total">Tests (11)</div><div class="summary-passed ">11 passed</div><div class="summary-failed  summary-empty">0 failed</div><div class="summary-pending  summary-empty">0 pending</div></div></div></div><div id="suite-1" class="suite-container"><input id="collapsible-0" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-0"><div class="suite-info"><div class="suite-path">/home/ubuntu/repos/mcp-neurolora/test/unit/utils/path-validator.test.ts</div><div class="suite-time">4.829s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Path Validator &gt; isPathAllowed</div><div class="test-title">should allow paths within project directory</div><div class="test-status">passed</div><div class="test-duration">0.015s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Path Validator &gt; isPathAllowed</div><div class="test-title">should not allow paths outside project directory</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Path Validator &gt; isPathAllowed</div><div class="test-title">should handle empty or invalid paths</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Path Validator &gt; isPathAllowed</div><div class="test-title">should handle paths with invalid characters</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Path Validator &gt; isPathAllowed</div><div class="test-title">should handle paths with URL-like characters</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Path Validator &gt; isPathAllowed</div><div class="test-title">should handle error cases gracefully</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Path Validator &gt; validateAndNormalizePath</div><div class="test-title">should normalize valid paths</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Path Validator &gt; validateAndNormalizePath</div><div class="test-title">should throw error for invalid paths</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Path Validator &gt; validateAndNormalizePath</div><div class="test-title">should throw error for paths with URL characters</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Path Validator &gt; validateAndNormalizePath</div><div class="test-title">should throw error for paths outside project directory</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Path Validator &gt; validateAndNormalizePath</div><div class="test-title">should handle error cases with appropriate messages</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div></div></div><div id="suite-2" class="suite-container"><input id="collapsible-1" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-1"><div class="suite-info"><div class="suite-path">/home/ubuntu/repos/mcp-neurolora/test/tools-integration.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"><div class="test-result failed"><div class="failureMessages suiteFailure"> <pre class="failureMsg">  ● Test suite failed to run

    ReferenceError: require is not defined

      1 | import { jest, describe, test, expect, beforeAll, afterAll } from '@jest/globals';
      2 | import path from 'path';
    &gt; 3 | import fs from 'fs/promises';
        |                              ^
      4 |
      5 | jest.mock('../src/tools/index.js');
      6 | jest.mock('../src/utils/logger.js');

      at require (test/tools-integration.test.js:3:30)
      at _getJestObj (test/tools-integration.test.js:5:1)
</pre></div></div></div></div><div id="suite-3" class="suite-container"><input id="collapsible-2" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-2"><div class="suite-info"><div class="suite-path">/home/ubuntu/repos/mcp-neurolora/test/unit/utils/progress-tracker.test.ts</div><div class="suite-time">0s</div></div></label><div class="suite-tests"><div class="test-result failed"><div class="failureMessages suiteFailure"> <pre class="failureMsg">  ● Test suite failed to run

    Must use import to load ES Module: /home/ubuntu/repos/mcp-neurolora/node_modules/chalk/source/index.js

    &gt; 1 | import chalk from 'chalk';
        | ^
      2 | import path from 'path';
      3 | import { getRuntimeConfig } from '../runtime-modes.js';
      4 |

      at Runtime.requireModule (node_modules/jest-runtime/build/index.js:850:21)
      at Object.require (src/utils/logger.ts:1:1)
      at Object.require (src/utils/progress-tracker.ts:2:1)
      at Object.&lt;anonymous&gt; (test/unit/utils/progress-tracker.test.ts:1:1)
</pre></div></div></div></div><div id="suite-4" class="suite-container"><input id="collapsible-3" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-3"><div class="suite-info"><div class="suite-path">/home/ubuntu/repos/mcp-neurolora/test/unit/tools/code-collector.test.ts</div><div class="suite-time">0s</div></div></label><div class="suite-tests"><div class="test-result failed"><div class="failureMessages suiteFailure"> <pre class="failureMsg">  ● Test suite failed to run

    ReferenceError: Cannot access 'external_services_mock_js_1' before initialization

       8 | import { TestContext } from '../../helpers/test-utils.js';
       9 |
    &gt; 10 | jest.mock('fs/promises', () =&gt; mockFs.promises);
         |                                       ^
      11 | jest.mock('../../../src/utils/progress-tracker.js', () =&gt; ({
      12 |   ProgressTracker: jest.fn().mockImplementation(() =&gt; mockProgressTracker),
      13 | }));

      at test/unit/tools/code-collector.test.ts:10:39
      at Object.require (src/tools/code-collector/handler.ts:1:1)
      at Object.&lt;anonymous&gt; (test/unit/tools/code-collector.test.ts:1:1)
</pre></div></div></div></div><div id="suite-5" class="suite-container"><input id="collapsible-4" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-4"><div class="suite-info"><div class="suite-path">/home/ubuntu/repos/mcp-neurolora/test/test-collector.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"><div class="test-result failed"><div class="failureMessages suiteFailure"> <pre class="failureMsg">  ● Test suite failed to run

    ReferenceError: require is not defined

      1 | import { jest, describe, test, expect, beforeAll, afterAll, afterEach } from '@jest/globals';
      2 | import path from 'path';
    &gt; 3 | import fs from 'fs/promises';
        |                              ^
      4 |
      5 | jest.mock('../src/tools/code-collector/handler.js');
      6 | jest.mock('../src/server.js');

      at require (test/test-collector.test.js:3:30)
      at _getJestObj (test/test-collector.test.js:5:1)
</pre></div></div></div></div><div id="suite-6" class="suite-container"><input id="collapsible-5" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-5"><div class="suite-info"><div class="suite-path">/home/ubuntu/repos/mcp-neurolora/test/test-utils.test.ts</div><div class="suite-time">0s</div></div></label><div class="suite-tests"><div class="test-result failed"><div class="failureMessages suiteFailure"> <pre class="failureMsg">  ● Test suite failed to run

    test/helpers/test-utils.ts:8:20 - error TS1378: Top-level 'await' expressions are only allowed when the 'module' option is set to 'es2022', 'esnext', 'system', 'node16', or 'nodenext', and the 'target' option is set to 'es2017' or higher.

    8 const { Server } = await import('@modelcontextprotocol/sdk/server/index.js');
                         ~~~~~
    test/helpers/test-utils.ts:9:34 - error TS1378: Top-level 'await' expressions are only allowed when the 'module' option is set to 'es2022', 'esnext', 'system', 'node16', or 'nodenext', and the 'target' option is set to 'es2017' or higher.

    9 const { StdioServerTransport } = await import('@modelcontextprotocol/sdk/server/stdio.js');
                                       ~~~~~
</pre></div></div></div></div><div id="suite-7" class="suite-container"><input id="collapsible-6" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-6"><div class="suite-info"><div class="suite-path">/home/ubuntu/repos/mcp-neurolora/test/test-analyzer.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"><div class="test-result failed"><div class="failureMessages suiteFailure"> <pre class="failureMsg">  ● Test suite failed to run

    ReferenceError: require is not defined

      1 | import { jest, describe, test, expect, beforeAll } from '@jest/globals';
      2 | import path from 'path';
    &gt; 3 | import fs from 'fs/promises';
        |                              ^
      4 |
      5 | jest.mock('../src/tools/code-analyzer/handler.js');
      6 | jest.mock('../src/server.js');

      at require (test/test-analyzer.test.js:3:30)
      at _getJestObj (test/test-analyzer.test.js:5:1)
</pre></div></div></div></div></div></body></html>